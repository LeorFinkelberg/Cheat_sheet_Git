\documentclass[%
	11pt,
	a4paper,
	utf8,
	%twocolumn
		]{article}	

\usepackage{style_packages/podvoyskiy_article_extended}


\begin{document}
\title{Наиболее полезные конструкции\\системы контроля версий  \texttt{Git}}

\author{}

\date{}
\maketitle

\thispagestyle{fancy}

\tableofcontents


\section{Термины и определения}

\noindent\texttt{HEAD} -- специальный \textit{указатель} на текущую \emph{локальную ветку}, которая в свою очередь ссылается на последнее зафиксированное состояние, т.е. на \emph{последний коммит}.


\section{Конструкции \texttt{Git}}

\subsection{Удаление файлов}

Удалить файл из \emph{области индексирования} и заодно удалить указанный файл из рабочей папки. Чтобы система \texttt{Git} перестала работать с файлом, его нужно удалить из числа отслеживаемых (точнее, убрать из области индексирования) и зафиксировать данное изменение 

\begin{lstlisting}[
language = cmd,
numbers = none
]
$ git rm file_name.py
\end{lstlisting}


Удалить файл из области индексирования\footnote{\texttt{Git} перестает следить за файлом, т.е. он становится \emph{неотслеживаемым}!}, но оставить его в рабочей папке. Данная команда в отличие от \texttt{git reset HEAD file\_name.py} может использоваться как до первой фиксации (\texttt{git commit}), так и после

\begin{lstlisting}[
language = cmd,
numbers = none
]
git rm --cached file_name.py
\end{lstlisting}


Удалить все файлы с расширением \texttt{.log}\footnote{Символ \texttt{*} экранируется} из директории \texttt{log/}

\begin{lstlisting}[
language = cmd,
numbers = none
]
git rm log/\*.log
\end{lstlisting}


\subsection{Переименование файлов}

Переименовать файл

\begin{lstlisting}[
language = cmd,
numbers = none
]
git mv old_file_name new_file_name
\end{lstlisting}


Переименовать файл с использованием \texttt{\{..\}}
\begin{lstlisting}[
language = cmd,
numbers = none
]
git mv test_file{,_new}.py
\end{lstlisting}


\subsection{Просмотр истории коммитов}

Вывести историю коммитов

\begin{lstlisting}[
language = cmd,
numbers = none
]
git log
\end{lstlisting}


Вывести историю коммитов, ограничившись последними двумя, с указанием разницы, которую внес каждый коммит

\begin{lstlisting}[
language = cmd,
numbers = none
]
git log -p -2
\end{lstlisting}

Вывести историю коммитов с краткой статистикой

\begin{lstlisting}[
language = cmd,
numbers = none
]
git log --stat
\end{lstlisting}

Вывести историю коммитов с указанием сокращенного варианта хеш-кода коммита и комментария

\begin{lstlisting}[
language = cmd,
numbers = none
]
git log --pretty=format:'%h %s'
\end{lstlisting}


Вывести историю коммитов за последние 2 недели

\begin{lstlisting}[
language = cmd,
numbers = none
]
git log --since=2.week
\end{lstlisting}


Вывести историю коммитов с захватом интересующего слова в коммите, ограничившись последними двумя

\begin{lstlisting}[
language = cmd,
numbers = none
]
git log --grep='key word' -2
\end{lstlisting}


Вывести историю коммитов, которые попали в заданный временной диапазон

\begin{lstlisting}[
language = cmd,
numbers = none
]
git log --since='2020-03-01 10:00' --before ='2020-03-01 11:00'
\end{lstlisting}


Вывести историю коммитов с указанием сокращенного хеш-кода коммита, тегов, текущей векти и собственно коммита

\begin{lstlisting}[
language = cmd,
numbers = none
]
git log --oneline
\end{lstlisting}


Вывести историю коммитов, показывая места расположения указателей и точек расхождения

\begin{lstlisting}[
language = cmd,
numbers = none
]
git log --oneline --decorate --all --graph
\end{lstlisting}


\subsection{Отмена индексирования}

Отменить индексирование файла (файл удаляется из области индексирования). Данная команда может применяться только после первой фиксации (\texttt{git commit})

\begin{lstlisting}[
language = cmd,
numbers = none
]
git reset HEAD file_name.py
\end{lstlisting}


\subsection{Работа с удаленными репозиториями}

Добавить удаленный репозиторий под коротким именем \texttt{pb}. Теперь вместо полного URL можно использовать имя \texttt{pb}

\begin{lstlisting}[
numbers = none
]
git remote add pb https://github.com/paulboone/ticgit
\end{lstlisting}


\emph{Извлечь данные} из удаленного репозитория. Эта команда связывается с удаленным проектом и извлекает оттуда все пока отсутствующие в локальном репозитории данные. Она \emph{\color{red}не выполняет} автоматического слияния с ветками, и вообще никак не затрагивает эти ветки

\begin{lstlisting}[
language = cmd,
numbers = none
]
git fetch origin
\end{lstlisting}


Отправить данные в ветку \texttt{master} на удаленном репозитории \texttt{origin}

\begin{lstlisting}[
language = cmd,
numbers = none
]
git push origin master
\end{lstlisting}


Передать данные от локальной ветки \texttt{serverfix} в ветку \texttt{awesomebranch} на удаленном репозитории

\begin{lstlisting}[
language = cmd,
numbers = none
]
git push origin serverfix:awesomebranch
\end{lstlisting}

Вывести информацию о конкретном удаленном репозитории \texttt{origin}

\begin{lstlisting}[
numbers = none
]
git remote show origin
\end{lstlisting}


Изменить имя удаленного репозитория с \texttt{pb} на \texttt{paul}. Теперь к ветке \texttt{pb/master} нужно будет обращаться по имени \texttt{paul/master}

\begin{lstlisting}[
numbers = none
]
git remote rename pb paul
\end{lstlisting}


Удалить ссылку на удаленный репозиторий

\begin{lstlisting}[
numbers = none
]
git remote rm paul
\end{lstlisting}


\subsection{Работа с тегами}

Вывести список доступных тегов

\begin{lstlisting}[
language = cmd,
numbers = none
]
git tag
\end{lstlisting}


Вывести список тегов, отвечающих поисковому  шаблону

\begin{lstlisting}[
language = cmd,
numbers = none
]
git tag -l 'v1.8.*'
git tag -l 'v0.2*.*'
\end{lstlisting}


Создать тег с комментарием. Тег привязывается к последнему коммиту

\begin{lstlisting}[
language = cmd,
numbers = none
]
git log -a v1.4 -m 'My version 1.4'
\end{lstlisting}

Вывести информацию по тегу

\begin{lstlisting}[
language = cmd,
numbers = none
]
git show v1.4
\end{lstlisting}


Создать легковесный тег (просто не указываются \texttt{-a}, \texttt{-s}, \texttt{-m})

\begin{lstlisting}[
language = cmd,
numbers = none
]
git tag v1.4-lw
\end{lstlisting}


Отправить все теги на удаленный репозиторий. По умолчанию команда \texttt{git push} не отправляет теги на удаленный репозиторий

\begin{lstlisting}[
language = cmd,
numbers = none
]
git push origin --tags
\end{lstlisting}


\subsection{Работа с ветками}

Вывести список существующих веток

\begin{lstlisting}[
language = cmd,
numbers = none
]
git branch
\end{lstlisting}


Создать новую ветку

\begin{lstlisting}[
language = cmd,
numbers = none
]
git branch testing
\end{lstlisting}

Переключиться на новую ветку

\begin{lstlisting}[
language = cmd,
numbers = none
]
git checkout testing
\end{lstlisting}

Создать новую ветку и тут же переключитсья на нее

\begin{lstlisting}[
language = cmd,
numbers = none
]
git checkout -b iss53
\end{lstlisting}


Внедрить внесенные изменения в готовый код

\begin{lstlisting}[
language = cmd,
numbers = none
]
git merge hotfix
\end{lstlisting}

Удалить ветку 

\begin{lstlisting}[
language = cmd,
numbers = none
]
git branch -d hotfix
\end{lstlisting}

Вывести ветки, НЕ объединенные с текущей веткой

\begin{lstlisting}[
language = cmd,
numbers = none
]
git branch --no-marged
\end{lstlisting}


Создать \emph{локальную копию ветки} \texttt{serverfix} на основе \emph{удаленной ветки} \texttt{origin/serverfix}. В результате будет получена локальная ветка, которая начинается там же, где и ветка \texttt{origin/serverfix}

\begin{lstlisting}[
language = cmd,
numbers = none
]
git checkout -b serverfix origin/serverfix
\end{lstlisting}

\noindent или альтернативный вариант

\begin{lstlisting}[
language = cmd,
numbers = none
]
git checkout --track origin/serverfix
\end{lstlisting}











\subsection{Отправка данных на удаленный репозиторий}

Для того чтобы отправить данные из локального репозитория на удаленный следует использовать конструкцию

\begin{lstlisting}[
language = cmd,
numbers = none
]
git push origin master
\end{lstlisting}

\noindent но предварительно необходимо слить данные из удаленного репозитория с помощью команды

\begin{lstlisting}[
language = cmd,
numbers = none
]
git pull origin master --allow-unrelated-histories
\end{lstlisting}







% Источники в "Газовой промышленности" нумеруются по мере упоминания 
\begin{thebibliography}{99}\addcontentsline{toc}{section}{Список литературы}
	\bibitem{  }{  }
\end{thebibliography}

%\listoffigures\addcontentsline{toc}{section}{Список иллюстраций}

\end{document}
